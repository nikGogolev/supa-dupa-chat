{"version":3,"sources":["store/actions/initProfileName.js","utils/constants.js","components/Main/index.js","store/actions/removeMessage.js","components/Message/index.js","components/ChatList/index.js","components/AddChatForm/index.js","store/actions/addChat.js","store/actions/removeChat.js","store/selectors/chatSelectors.js","store/actions/initChats.js","components/ChatListContainer/index.js","store/actions/addMessage.js","store/selectors/profileSelectors.js","components/SendForm/index.js","components/Chat/index.js","store/actions/setProfileName.js","services/firebase.js","components/Profile/index.js","store/selectors/newsSelectors.js","store/actions/getNews.js","components/News/index.js","components/SignUp/index.js","components/LogIn/index.js","hocs/PrivateRoute.js","hocs/PublicRoute.js","components/Router/index.js","store/initialState.js","store/reducers/profileReducer.js","store/reducers/chatReducer.js","store/reducers/newsReducer.js","store/sagas/messagesSaga.js","store/sagas/profileSaga.js","store/sagas/newsSaga.js","store/sagas/chatsSaga.js","store/sagas.js","store/store.js","App.js","reportWebVitals.js","index.js"],"names":["INIT_PROFILE_NAME","INIT_PROFILE_NAME_WITH_SAGA","initProfileNameWithSaga","type","STATUSES","HOMEPAGE","Main","props","className","to","REMOVE_MESSAGE_WITH_SAGA","useStyles","makeStyles","theme","button","position","top","right","message","border","borderRadius","marginBottom","messageHeader","textAlign","margin","messageText","whiteSpace","messageAuthor","smallText","fontSize","color","fontWeight","Message","dispatch","useDispatch","handleRemoveMessage","useCallback","chatId","messageId","removeMessageWithSaga","classes","messages","map","i","id","header","text","author","IconButton","onClick","ChatList","List","component","Object","values","chats","chat","link","ListItem","active","root","ListItemText","primary","name","event","handleRemoveChat","AddChatForm","onSubmit","handleAddChat","chatName","addChatForm","TextField","value","onChange","hanldeChatName","label","variant","size","Button","testid","role","ADD_CHAT_WITH_SAGA","REMOVE_CHAT_WITH_SAGA","getChats","state","INIT_CHATS","initChats","INIT_CHATS_WITH_SAGA","height","textDecoration","palette","main","secondary","backgroundColor","marginRight","maxWidth","padding","display","alignItems","ChatListContainer","useState","setChatName","useSelector","shallowEqual","preventDefault","addChatWithSaga","stopPropagation","removeChatWithSaga","target","useEffect","ADD_MESSAGE_WITH_SAGA","getProfileName","profile","getProfileWrongNameState","wrongName","flexDirection","spacing","alignSelf","SendForm","messageTheme","setMessageTheme","setMessageText","formText","useRef","useParams","handleAddMessage","clearForm","current","focus","addMessageWithSaga","handleChangeTheme","handleChangeText","action","noValidate","autoComplete","inputRef","multiline","rows","endIcon","Icon","justifyContent","flexGrow","Chat","MessagePure","React","memo","chatList","SET_PROFILE_NAME_WITH_SAGA","auth","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getDatabase","profileName","left","background","hidden","visibility","Profile","newProfileName","setNewProfileName","setProfileName","userName","ref","currentUser","uid","onValue","snapshot","data","val","signOutUser","signOut","then","catch","error","required","getNewsList","news","newsList","getNewsErrorStatus","status","getNewsErrorMessage","getNewsRequestStatus","GET_NEWS_REQUEST","GET_NEWS_SUCCESS","GET_NEWS_FAILURE","GET_NEWS_WITH_SAGA","getNewsSuccess","listStyle","newsItem","News","isError","newsErrorMessage","newsRequestStatus","handleFetchNews","renderNews","href","url","rel","title","SignUp","email","setEmail","password","setPassword","setError","handlePassChange","e","handleEmailChange","handleSubmit","a","createUserWithEmailAndPassword","placeholder","LogIn","signInWithEmailAndPassword","PrivateRoute","authenticated","rest","pathname","PublicRoute","minHeight","App","authed","setAuthed","onAuthStateChanged","user","path","exact","initialState","profileReducer","chatReducer","newsReducer","errorMessage","fetchData","fetch","result","ok","Error","statusText","json","err","onAddMessageWithSaga","Date","newMessageId","update","delay","call","weatherData","newBotMessageId","botMessage","clouds","all","temp","toFixed","humidity","wind","speed","console","log","onRemoveMessageWithSaga","remove","onSetProfileNameWithSaga","set","username","onInitProfileNameWithSaga","store","onGetNewsWithSaga","put","onInitChatsWithSaga","onAddChatWithSaga","newChatId","newChat","myNewChat","users","onRemoveChatWithSaga","myChat","mySaga","takeEvery","takeLatest","combine","combineReducers","options","onError","stack","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","key","storage","persistedReducer","persistReducer","createStore","applyMiddleware","run","persistor","persistStore","mainTheme","createTheme","ThemeProvider","Router","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8487086.chunk.js","sourcesContent":["export const INIT_PROFILE_NAME = 'PROFILE::INIT_PROFILE_NAME';\r\nexport const INIT_PROFILE_NAME_WITH_SAGA = 'PROFILE::INIT_PROFILE_NAME_WITH_SAGA';\r\n\r\nexport const initProfileName = (value) => {\r\n    return {\r\n        type: INIT_PROFILE_NAME,\r\n        name: value\r\n    };\r\n};\r\n\r\nexport const initProfileNameWithSaga = () => {\r\n    return {\r\n        type: INIT_PROFILE_NAME_WITH_SAGA,\r\n    };\r\n};","export const URL_NEWS = \"https://api.currentsapi.services/v1/latest-news?language=ru&apiKey=6qmiCnF5XcC6Zt8s4fj5gRg9kBKB58XFqw8Rw6QqsYOtD1M8\";\r\nexport const URL_WEATHER = 'https://api.openweathermap.org/data/2.5/weather?id=498817&appid=f0694cc740867c7440b3be0552c0bf8f';\r\nexport const STATUSES = {\r\n\tIDLE: 'idle',\r\n\tREQUEST: 'request',\r\n\tSUCCESS: 'success',\r\n\tFAILURE: 'failure'\r\n};\r\n\r\nexport const HOMEPAGE = \"/supa-dupa-chat\";","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {HOMEPAGE} from '../../utils/constants';\n\nfunction Main(props) {\n\n\treturn (\n\t\t<div className=\"main-container\">\n\t\t\t<h1>Welcome to chat</h1>\n\t\t\t<div>\n\t\t\t\t<Link to={`${HOMEPAGE}/login`}>Sign In</Link>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Link to={`${HOMEPAGE}/signup`}>Sign Up</Link>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t);\n};\n\nexport default Main;\n","export const REMOVE_MESSAGE = 'CHATS::REMOVE_MESSAGE';\r\n\r\nexport const removeMessage = (chatId, messageId) => {\r\n    return {\r\n        type: REMOVE_MESSAGE,\r\n        chatId,\r\n        messageId,\r\n    };\r\n};\r\n\r\nexport const REMOVE_MESSAGE_WITH_SAGA = 'CHATS::REMOVE_MESSAGE_WITH_SAGA';\r\n\r\nexport const removeMessageWithSaga = (chatId, messageId) => {\r\n    return {\r\n        type: REMOVE_MESSAGE_WITH_SAGA,\r\n        chatId,\r\n        messageId,\r\n    };\r\n};","import React, { useCallback } from 'react';\n\nimport { useDispatch } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport { removeMessageWithSaga } from '../../store/actions/removeMessage';\n\nconst useStyles = makeStyles((theme) => ({\n\tbutton: {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tright: '0',\n\t},\n\tmessage: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tmarginBottom: '10px',\n\t\tposition: 'relative',\n\t},\n\tmessageHeader: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageText: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t\twhiteSpace: 'pre-wrap'\n\t},\n\tmessageAuthor: {\n\t\ttextAlign: 'right',\n\t\tmargin: '10px 20px',\n\t},\n\tsmallText: {\n\t\tfontSize: '14px',\n\t\tcolor: '#AAA',\n\t\tfontWeight: 'normal',\n\t},\n}));\n\nfunction Message(props) {\n\n\t/*store*/\n\tconst dispatch = useDispatch();\n\n\t/*handles*/\n\tconst handleRemoveMessage = useCallback((chatId, messageId) => {\n\t\tdispatch(removeMessageWithSaga(chatId, messageId))\n\t}, [dispatch]);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\tprops.messages.map((message, i) =>\n\t\t\t<article key={message.id} className={classes.message} id={message.id}>\n\t\t\t\t<h2 className={classes.messageHeader}><span className={classes.smallText}>Theme:<br /></span>{message.header}</h2>\n\t\t\t\t<p className={classes.messageText}><span className={classes.smallText}>Message:<br /></span>{message.text}</p>\n\t\t\t\t<p className={classes.messageAuthor}><cite><span className={classes.smallText}>Author: </span>{message.author}</cite></p>\n\t\t\t\t<IconButton onClick={() => handleRemoveMessage(props.chatId, message.id)} aria-label=\"delete\" className={classes.button + \" delete-button\"} >\n\t\t\t\t\t<DeleteIcon color=\"secondary\" />\n\t\t\t\t</IconButton>\n\t\t\t</article>\n\t\t)\n\t);\n};\n\nexport default Message;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nfunction ChatList(props) {\n\n\t/*render*/\n\treturn (\n\t\t<List component=\"nav\" aria-label=\"main mailbox folders\">\n\t\t\t{Object.values(props.chats).map((chat) => \n\t\t\t\t<Link to={'/gbCourse5Hw/chats/'+chat.id}  className={props.classes.link} key={chat.id} >\n\t\t\t\t\t<ListItem button className={chat.id === props.chatId ? props.classes.active : props.classes.root} >\t\t\t\t\t\n\t\t\t\t\t\t<ListItemText primary={chat.name} />\n\t\t\t\t\t\t<IconButton aria-label=\"close\" onClick={(event) => props.handleRemoveChat(chat.id, event)}>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t</List>\n\t);\n\n};\n\nexport default ChatList;\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nfunction AddChatForm(props) {\n\n\t/*render*/\n\treturn (\n\t\t<form onSubmit={(event) => props.handleAddChat(props.chatName, event)} className={props.classes.addChatForm}>\n\t\t\t<TextField className={props.classes.chatName} value={props.chatName} onChange={props.hanldeChatName} id=\"outlined-basic\" label=\"Chat name\" variant=\"outlined\" size=\"small\" />\n\t\t\t<Button value=\"Add\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tclassName={props.classes.button}\n\t\t\t\ttype=\"submit\"\n\t\t\t\ttestid=\"addChatBtn\"\n\t\t\t\trole=\"addChatBtn\"\n\t\t\t>\n\t\t\t\tAdd chat\n\t\t\t</Button>\n\t\t</form>\n\t);\n}\n\nexport default AddChatForm;\n","export const ADD_CHAT = 'CHATS::ADD_CHAT';\r\n\r\nexport const addChat = (chatName) => {\r\n    return {\r\n        type: ADD_CHAT,\r\n        chatName\r\n    };\r\n};\r\n\r\nexport const ADD_CHAT_WITH_SAGA = 'CHATS::ADD_CHAT_WITH_SAGA';\r\n\r\nexport const addChatWithSaga = (chatName) => {\r\n    return {\r\n        type: ADD_CHAT_WITH_SAGA,\r\n        chatName\r\n    };\r\n};","export const REMOVE_CHAT = 'CHATS::REMOVE_CHAT';\r\n\r\nexport const removeChat = (chatId) => {\r\n    return {\r\n        type: REMOVE_CHAT,\r\n        chatId,\r\n    };\r\n};\r\n\r\nexport const REMOVE_CHAT_WITH_SAGA = 'CHATS::REMOVE_CHAT_WITH_SAGA';\r\n\r\nexport const removeChatWithSaga = (chatId) => {\r\n    return {\r\n        type: REMOVE_CHAT_WITH_SAGA,\r\n        chatId,\r\n    };\r\n};","export function getChats(state){ return state.chats};","export const INIT_CHATS = 'CHATS::INIT_CHATS';\n\nexport const initChats = (chats) => {\n    return {\n        type: INIT_CHATS,\n        chats\n    };\n};\n\nexport const INIT_CHATS_WITH_SAGA = 'CHATS::INIT_CHATS_WITH_SAGA';\n\nexport const initChatsWithSaga = () => {\n    return {\n        type: INIT_CHATS_WITH_SAGA,\n    };\n};","import React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ChatList from '../ChatList';\nimport AddChatForm from '../AddChatForm';\nimport { addChatWithSaga } from '../../store/actions/addChat';\nimport { removeChatWithSaga } from '../../store/actions/removeChat';\nimport { getChats } from '../../store/selectors/chatSelectors';\nimport { initChatsWithSaga } from '../../store/actions/initChats';\n\nconst useStyles = makeStyles((theme) => ({\n\tbutton: {\n\t\tcolor: '#fff',\n\t\twhiteSpace: 'noWrap',\n\t\theight: '100%',\n\t},\n\tlink: {\n\t\ttextDecoration: 'none',\n\t\tcolor: theme.palette.primary.main,\n\t},\n\tactive: {\n\t\tcolor: theme.palette.secondary.main,\n\t\tbackgroundColor: '#ccc',\n\t},\n\tchatName: {\n\t\tmarginRight: '10px',\n\t},\n\troot: {\n\t\tmaxWidth: '300px',\n\t\tpadding: '15px',\n\t},\n\taddChatForm: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t}\n}));\n\nfunction ChatListContainer(props) {\n\n\t/*state*/\n\tconst [chatName, setChatName] = useState('');\n\n\t/*store*/\n\tconst dispatch = useDispatch();\n\tconst chats = useSelector(getChats, shallowEqual);\n\n\t/*handles*/\n\tconst handleAddChat = useCallback((chatName, event) => {\n\t\tevent.preventDefault();\n\t\tdispatch(addChatWithSaga(chatName));\n\t\tsetChatName('');\n\t}, [dispatch]);\n\n\tconst handleRemoveChat = useCallback((chatId, event) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tdispatch(removeChatWithSaga(chatId));\n\t}, [dispatch]);\n\n\tconst hanldeChatName = useCallback((event) => {\n\t\tsetChatName(event.target.value);\n\t},[]);\n\n\tuseEffect(() => {\n\t\tdispatch(initChatsWithSaga());\n\t}, []);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AddChatForm handleAddChat={handleAddChat} classes={classes} chatName={chatName} hanldeChatName={hanldeChatName} />\n\t\t\t<ChatList chats={chats} classes={classes} handleRemoveChat={handleRemoveChat} chatId={props.chatId} />\n\t\t</div>\n\t);\n};\n\nexport default ChatListContainer;\n","export const ADD_MESSAGE = 'CHATS::ADD_MESSAGE';\r\n\r\nexport const addMessage = (chatId, chatName, messageTheme, messageText, messageAuthor) => {\r\n    return { \r\n        type: ADD_MESSAGE,\r\n\t\tchatId, \r\n\t\tchatName,\r\n\t\tmessageTheme, \r\n\t\tmessageText, \r\n\t\tmessageAuthor, \r\n    };\r\n};\r\n\r\nexport const ADD_MESSAGE_WITH_SAGA = 'CHATS::ADD_MESSAGE_WITH_SAGA';\r\n\r\nexport const addMessageWithSaga = (chatId, chatName, messageTheme, messageText, messageAuthor) => {\r\n    return { \r\n        type: ADD_MESSAGE_WITH_SAGA,\r\n\t\tchatId, \r\n\t\tchatName,\r\n\t\tmessageTheme, \r\n\t\tmessageText, \r\n\t\tmessageAuthor, \r\n    };\r\n};","export function getProfileCheckboxState(state){return state.profile.checkboxState};\r\nexport function getProfileName(state) {return state.profile.name};\r\nexport function getProfileWrongNameState(state){return state.profile.wrongName};","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\nimport TextField from '@material-ui/core/TextField';\n\nimport {addMessageWithSaga} from '../../store/actions/addMessage';\nimport {getProfileName} from '../../store/selectors/profileSelectors';\nimport {getChats} from '../../store/selectors/chatSelectors';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\t'& > *': {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\ttext: {\n\t\theight: 'auto',\n\t},\n\tbutton: {\n\t\talignSelf: 'flex-end',\n\t},\n}));\n\nfunction SendForm(props) {\n\t\n\t/*state*/\n\tconst [messageTheme, setMessageTheme] = useState('');\n\tconst [messageText, setMessageText] = useState('');\n\tconst messageAuthor = useSelector(getProfileName);\n\tconst chats = useSelector(getChats);\n\tconst formText = useRef(null);\n\n\t/*roures*/\n\tconst {chatId} = useParams();\n\t\n\t\n\t/*store*/\n\tconst dispatch = useDispatch();\n\t\n\t/*styles*/\n\tconst classes = useStyles();\n\t\n\t/*handles*/\n\tconst handleAddMessage = useCallback((chatId, chatName, messageTheme, messageText, messageAuthor, event) => {\n\t\tclearForm();\n\t\tformText.current.focus()\n\t\tif (event){event.preventDefault();}\n\t\tdispatch(addMessageWithSaga(chatId, chatName, messageTheme, messageText, messageAuthor));\n\t},[dispatch]);\n\t\n\tconst handleChangeTheme = useCallback((event) => {\n\t\tsetMessageTheme(event.target.value);\n\t},[]);\n\t\n\tconst handleChangeText = useCallback((event) => {\n\t\tsetMessageText(event.target.value);\n\t},[]);\n\t\n\tconst clearForm = useCallback(() => {\n\t\tsetMessageTheme('');\n\t\tsetMessageText('');\n\t},[]);\n\t\n\t/*effects*/\n\tuseEffect(() => {\n\t\tif(!!chatId) formText.current.focus();\n\t}, [chatId]);\n\t\n\treturn (\n\t\t<form action=\"\" onSubmit={(event) => handleAddMessage(chatId, chats[chatId].name, messageTheme, messageText, messageAuthor, event)} className={classes.root} noValidate autoComplete=\"off\">\n\t\t\t<TextField className={classes.text} value={messageTheme} onChange={handleChangeTheme} id=\"outlined-basic\" label=\"Theme\" variant=\"outlined\"/>\n\t\t\t<TextField className={classes.text} value={messageText} onChange={handleChangeText} inputRef={formText} multiline={true} rows=\"5\" id=\"outlined-basic\" label=\"Message\" variant=\"outlined\"/>\n\t\t\t<Button type=\"submit\" value=\"Send\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tclassName={classes.button}\n\t\t\t\tendIcon={<Icon>send</Icon>}\n\t\t\t>\n\t\t\tSend\n\t\t\t</Button>\n\t\t</form>\n\t);\n};\n\nexport default SendForm;\n","import React from 'react';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Message from '../Message';\nimport ChatListContainer from '../ChatListContainer';\nimport SendForm from '../SendForm';\n\nimport { getChats } from '../../store/selectors/chatSelectors';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-around',\n\t\tbackgroundColor: '#EEE',\n\t},\n\n\tchat: {\n\t\tmaxWidth: '700px',\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tpadding: '15px',\n\t\tflexGrow: 1,\n\t}\n}));\n\nfunction Chat(props) {\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*roures*/\n\tconst { chatId } = useParams();\n\n\t/*store*/\n\n\tconst chats = useSelector(getChats);\n\n\tconst MessagePure = React.memo(Message);\n\n\t/*render*/\n\tif (!!chatId && !chats[chatId]) {\n\t\treturn <Redirect to=\"/gbCourse5Hw/chats\" />;\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ChatListContainer chatList={chats} active={chatId} chatId={chatId} />\n\t\t\t<div className={classes.chat}>\n\t\t\t\t<MessagePure messages={(!!chatId && chats[chatId].messages) ? Object.values(chats[chatId].messages) : []} chatId={chatId} />\n\t\t\t\t{!!chatId && <SendForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","export const SET_PROFILE_NAME_WITH_SAGA = 'PROFILE::SET_PROFILE_NAME_WITH_SAGA';\r\n\r\nexport const setProfileNameWithSaga = (value) => {\r\n    return {\r\n        type: SET_PROFILE_NAME_WITH_SAGA,\r\n        name: value\r\n    };\r\n};","import { getAuth } from \"@firebase/auth\";\nimport { getDatabase } from \"@firebase/database\";\nimport { initializeApp } from \"firebase/app\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyClSDFFfyZOzOpDTXS3pbqR4tpMuhrsXW0\",\n  authDomain: \"supa-dupa-chat.firebaseapp.com\",\n  databaseURL: \"https://supa-dupa-chat-default-rtdb.firebaseio.com\",\n  projectId: \"supa-dupa-chat\",\n  storageBucket: \"supa-dupa-chat.appspot.com\",\n  messagingSenderId: \"656656094874\",\n  appId: \"1:656656094874:web:247f40f1bae0857ad07123\"\n};\n\nexport const firebaseInitialize = initializeApp(firebaseConfig);\nexport const auth = getAuth();\nexport const db = getDatabase();","import React, { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { signOut } from \"firebase/auth\";\nimport { ref, onValue } from '@firebase/database';\n\nimport { setProfileNameWithSaga } from '../../store/actions/setProfileName';\nimport { getProfileWrongNameState } from '../../store/selectors/profileSelectors';\nimport { db, auth } from '../../services/firebase';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\tbackgroundColor: '#EEE',\n\t\tflexDirection: 'column',\n\t},\n\tprofileName: {\n\t\tposition: 'relative',\n\t},\n\twrongName: {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tleft: 'calc(50% - 60px)',\n\t\tdisplay: 'block',\n\t\tpadding: '10px',\n\t\tbackground: '#de2345',\n\t},\n\thidden: {\n\t\tvisibility: 'hidden',\n\t},\n}));\n\nfunction Profile(props) {\n\n\t/*state*/\n\tconst [newProfileName, setNewProfileName] = useState('');\n\tconst [profileName, setProfileName] = useState('');\n\n\t/*store*/\n\t// const profileName = useSelector(getProfileName);\n\tconst dispatch = useDispatch();\n\tconst wrongName = useSelector(getProfileWrongNameState);\n\n\t/*handles*/\n\n\tconst handleProfileName = (event) => {\n\t\tevent.preventDefault();\n\t\tdispatch(setProfileNameWithSaga(newProfileName));\n\t\tsetNewProfileName('');\n\t};\n\n\tconst handleNewProfileName = (event) => {\n\t\tsetNewProfileName(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tconst userName = ref(db, `profile/${auth.currentUser.uid}/username`);\n\t\tconst unsubscribe = onValue(userName, (snapshot) => {\n\t\t\tconst data = snapshot.val();\n\t\t\tsetProfileName(data);\n\t\t});\n\t\treturn unsubscribe;\n\t}, [newProfileName]);\n\n\n\tconst signOutUser = useCallback(() => {\n\t\tsignOut(auth).then(() => {\n\t\t}).catch((error) => {\n\t\t});\n\t}, []);\n\n\t/*styles*/\n\tconst classes = useStyles();\n\n\t/*render*/\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<h1>My Profile</h1>\n\t\t\t<div>\n\t\t\t\t<form onSubmit={handleProfileName} className={classes.profileName}>\n\t\t\t\t\t<TextField required className={classes.profileName} value={newProfileName} onChange={handleNewProfileName} id=\"standard-basic\" label=\"Enter your name\" variant=\"standard\" />\n\t\t\t\t\t<span className={(wrongName ? \"\" : classes.hidden) + \" \" + classes.wrongName}>Wrong name!</span>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<p><span className={(!profileName) ? classes.hidden : ''}>Hi, </span>{profileName}<span className={(!profileName) ? classes.hidden : ''}>!</span></p>\n\t\t\t<button onClick={signOutUser}>Sign Out</button>\n\t\t</div>\n\t);\n};\n\nexport default Profile;\n","export function getNewsList(state){ return state.news.newsList};\r\nexport function getNewsErrorStatus(state){ return state.news.error.status};\r\nexport function getNewsErrorMessage(state){ return state.news.error.message};\r\nexport function getNewsRequestStatus(state){ return state.news.status};","export const GET_NEWS_REQUEST = 'NEWS::GET_NEWS_REQUEST';\r\nexport const GET_NEWS_SUCCESS = 'NEWS::GET_NEWS_SUCCESS';\r\nexport const GET_NEWS_FAILURE = 'NEWS::GET_NEWS_FAILURE';\r\nexport const GET_NEWS_WITH_SAGA = 'NEWS::GET_NEWS_WITH_SAGA';\r\n\r\nexport const getNewsRequest = () => {\r\n    return { \r\n        type: GET_NEWS_REQUEST,\r\n    };\r\n};\r\n\r\nexport const getNewsSuccess = (news) => {\r\n    return { \r\n        type: GET_NEWS_SUCCESS,\r\n\t\tnews\r\n    };\r\n};\r\n\r\n\r\nexport const getNewsFailure = (errorMessage) => {\r\n    return { \r\n        type: GET_NEWS_FAILURE,\r\n\t\terrorMessage\r\n    };\r\n};\r\n\r\n\r\nexport const getNewsWithSaga = () => {\r\n    return { \r\n        type: GET_NEWS_WITH_SAGA,\r\n    };\r\n};","import React, {useCallback, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {getNewsList, getNewsErrorStatus, getNewsErrorMessage, getNewsRequestStatus} from '../../store/selectors/newsSelectors';\nimport {getNewsWithSaga} from '../../store/actions/getNews';\nimport {STATUSES} from '../../utils/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tlistStyle: 'none',\n\t},\n\tnewsItem: {\n\t\tdisplay: 'block',\n\t\ttextDecoration: 'none',\n\t\tcolor: theme.palette.primary.main,\n\t\tmarginBottom: '10px',\n\t\t\n\t\t'&:visited':{\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t},\n\t},\n}));\n\nfunction News(props) {\n\t/*styles*/\n\tconst classes = useStyles();\n\t\n\tconst newsList = useSelector(getNewsList);\n\tconst isError = useSelector(getNewsErrorStatus);\n\tconst newsErrorMessage = useSelector(getNewsErrorMessage);\n\tconst newsRequestStatus = useSelector(getNewsRequestStatus);\n\tconst dispatch = useDispatch();\n\t\n\tconst handleFetchNews = useCallback(() => {\n\t\tdispatch(getNewsWithSaga());\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\t\n\tuseEffect(() => {\n\t\thandleFetchNews();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\t\n\tconst renderNews = useCallback(\n    (newsItem) => <li key={newsItem.id}><a href={newsItem.url} target=\"_blank\" rel=\"noreferrer\" className={classes.newsItem}>{newsItem.title || 'No description'}</a></li>\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t, []);\n  \n\tif (isError) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<p>{newsErrorMessage}</p>\n\t\t\t\t<button onClick={handleFetchNews}>reload</button>\n\t\t\t</>\n\t\t)\n\t};\n\tif (newsRequestStatus === STATUSES.REQUEST){\n\t\treturn(\n\t\t\t<>\n\t\t\t\t<p>Loading...</p>\n\t\t\t</>\n\t\t)\n\t}\n\treturn (\n\t<>\n\t\t\n\t\t<ul className={classes.root}>{newsList.map(renderNews)}</ul>\n\t</>\n\t);\n};\n\nexport default News;","import React, { useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../../services/firebase';\n\nfunction SignUp() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handlePassChange = useCallback((e) => {\n    setPassword(e.target.value);\n  },[]);\n\n  const handleEmailChange = useCallback((e) => {\n    setEmail(e.target.value);\n  },[]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      await createUserWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <p>Fill in the form below to register new account.</p>\n        <div>\n          <input\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={handleEmailChange}\n            value={email}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={handlePassChange}\n            value={password}\n            type=\"password\"\n          />\n        </div>\n        <div>\n          {error && <p>{error}</p>}\n          <button type=\"submit\">Login</button>\n        </div>\n        <hr />\n        <p>\n          Already have an account? <Link to=\"/gbCourse5Hw/login\">Sign in</Link>\n        </p>\n      </form>\n    </div>\n  );\n};\nexport default SignUp;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../../services/firebase';\n\nfunction LogIn() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handlePassChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <p>Fill in the form below to login to your account.</p>\n        <div>\n          <input\n            placeholder=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={handleEmailChange}\n            value={email}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={handlePassChange}\n            value={password}\n            type=\"password\"\n          />\n        </div>\n        <div>\n          {error && <p>{error}</p>}\n          <button type=\"submit\">Login</button>\n        </div>\n        <hr />\n        <p>\n          Don't have an account? <Link to=\"/gbCourse5Hw/signup\">Sign up</Link>\n        </p>\n      </form>\n    </div>\n  );\n};\nexport default LogIn;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport {HOMEPAGE} from '../utils/constants';\n\nexport default function PrivateRoute({ authenticated, ...rest }) {\n  return authenticated ? (\n    <Route {...rest} />\n  ) : (\n    <Redirect to={{ pathname: `${HOMEPAGE}/login` }} />\n  );\n};","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport {HOMEPAGE} from '../utils/constants';\n\nexport default function PublicRoute({ authenticated, ...rest }) {\n  return !authenticated ? <Route {...rest} /> : <Redirect to={`${HOMEPAGE}/chats`} />;\n};","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter, Route, Switch, Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { onAuthStateChanged } from \"firebase/auth\";\n\nimport { initProfileNameWithSaga } from '../../store/actions/initProfileName';\n\nimport Main from '../Main';\nimport Chat from '../Chat';\nimport Profile from '../Profile';\nimport News from '../News';\nimport SignUp from '../SignUp';\nimport LogIn from '../LogIn';\nimport PrivateRoute from '../../hocs/PrivateRoute';\nimport PublicRoute from '../../hocs/PublicRoute';\nimport { auth } from '../../services/firebase';\nimport {HOMEPAGE} from '../../utils/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\theader: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-around',\n\t\tminHeight: '50px',\n\t\talignItems: 'center',\n\n\t\t'&>a': {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\theight: '50px',\n\t\t\ttextDecoration: 'none',\n\t\t\tbackgroundColor: '#ccc',\n\t\t\tcolor: '#708238',\n\t\t\tpadding: '0 30px',\n\t\t}\n\t},\n\tmessage: {\n\t\tborder: '1px solid black',\n\t\tborderRadius: '10px',\n\t\tmarginBottom: '10px',\n\t\tposition: 'relative',\n\t},\n\tmessageHeader: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageText: {\n\t\ttextAlign: 'left',\n\t\tmargin: '10px 20px',\n\t},\n\tmessageAuthor: {\n\t\ttextAlign: 'right',\n\t\tmargin: '10px 20px',\n\t},\n\tsmallText: {\n\t\tfontSize: '14px',\n\t\tcolor: '#AAA',\n\t\tfontWeight: 'normal',\n\t},\n}));\n\nfunction App() {\n\t\n\n\tconst [authed, setAuthed] = useState(false);\n\t\n\tconst dispatch = useDispatch();\n\n\t/*styles*/\n\tconst classes = useStyles();\n\tuseEffect(() => {\n\n\t\tif (authed) {dispatch(initProfileNameWithSaga());};\n\t\t\n\t\tconst unsubscribe = onAuthStateChanged(auth, (user) => {\n\t\t\tif (user) {\n\t\t\t\tdispatch(initProfileNameWithSaga());\n\t\t\t\tsetAuthed(true);\n\t\t\t} else {\n\t\t\t\tsetAuthed(false);\n\t\t\t}\n\t\t});\n\t\treturn unsubscribe;\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\t/*render*/\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<header className={classes.header}>\n\t\t\t\t<Link to={`${HOMEPAGE}/`}>Main</Link>\n\t\t\t\t<Link to={`${HOMEPAGE}/chats`}>Chats</Link>\n\t\t\t\t<Link to={`${HOMEPAGE}/profile`}>Profile</Link>\n\t\t\t\t<Link to={`${HOMEPAGE}/news`}>News</Link>\n\t\t\t\t<Link to={`${HOMEPAGE}/signup`}>Registration</Link>\n\t\t\t\t<Link to={`${HOMEPAGE}/login`}>Login</Link>\n\t\t\t</header>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute authenticated={authed} path={`${HOMEPAGE}/chats/:chatId?`}>\n\t\t\t\t\t<Chat />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PrivateRoute authenticated={authed} path={`${HOMEPAGE}/profile`}>\n\t\t\t\t\t<Profile />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path={`${HOMEPAGE}/nochat`}>\n\t\t\t\t\t<h4>Здесь рыбы нет</h4>\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PrivateRoute authenticated={authed} path={`${HOMEPAGE}/news`}>\n\t\t\t\t\t<News />\n\t\t\t\t</PrivateRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path={`${HOMEPAGE}/signup`}>\n\t\t\t\t\t<SignUp />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PublicRoute authenticated={authed} path={`${HOMEPAGE}/login`}>\n\t\t\t\t\t<LogIn />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<PublicRoute exact authenticated={authed} path={`${HOMEPAGE}/`}>\n\t\t\t\t\t<Main />\n\t\t\t\t</PublicRoute>\n\t\t\t\t<Route authenticated={authed}>\n\t\t\t\t\t<h4>404</h4>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</BrowserRouter>\n\t);\n};\n\nexport default App;\n","import {STATUSES} from '../utils/constants';\r\n\r\nconst initialState = {\r\n\tprofile: {\r\n\t\tname:'Name',\r\n\t},\r\n\tchats: {},\r\n\tnews: {\r\n\t\tnewsList: [],\r\n\t\terror: {status: false, message:''},\r\n\t\tstatus: STATUSES.IDLE,\r\n\t},\r\n\t\r\n};\r\n\r\nexport default initialState;","import {INIT_PROFILE_NAME} from '../actions/initProfileName';\r\nimport initialState from '../initialState';\r\nconst {profile} = initialState;\r\n\r\nfunction profileReducer(state = profile, action) {\r\n    switch(action.type) {\r\n\t\tcase INIT_PROFILE_NAME:\r\n\t\t\treturn {...state, name: action.name};\r\n        \r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default profileReducer;","import initialState from '../initialState';\r\nimport { INIT_CHATS } from '../actions/initChats';\r\nconst { chats } = initialState;\r\n\r\nfunction chatReducer(state = chats, action) {\r\n\tswitch (action.type) {\r\n\t\tcase INIT_CHATS:\r\n\t\t\treturn {\r\n\t\t\t\t...action.chats\r\n\t\t\t};\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n};\r\n\r\nexport default chatReducer;","import {GET_NEWS_REQUEST, GET_NEWS_SUCCESS, GET_NEWS_FAILURE} from '../actions/getNews';\r\nimport {STATUSES} from '../../utils/constants';\r\nimport initialState from '../initialState';\r\n\r\nconst {news} = initialState;\r\n\r\nfunction newsReducer(state = news, action) {\r\n    switch(action.type) {\r\n        case GET_NEWS_REQUEST: return {...state, error: {...state.error, status: false}, status: STATUSES.REQUEST};\r\n\t\t\r\n\t\tcase GET_NEWS_SUCCESS: return {...state, newsList: action.news, status: STATUSES.SUCCESS};\r\n\t\t\r\n\t\tcase GET_NEWS_FAILURE: return {...state, error: {...state.error, status: true, message: action.errorMessage}, status: STATUSES.FAILURE};\r\n\t\t\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default newsReducer;","import { URL_WEATHER } from '../../utils/constants';\n\nimport { ref, update, remove } from '@firebase/database';\nimport { db } from '../../services/firebase';\nimport { call, delay } from '@redux-saga/core/effects';\n\nconst fetchData = (url) => fetch(url)\n    .then(result => {\n        if (!result.ok) throw Error(result.status + ' ' + result.statusText);\n        return result.json();\n    })\n    .then(data => data)\n    .catch(err => {\n        throw err;\n    });\n\nexport const onAddMessageWithSaga = function* (action) {\n    try {\n        const newMessageId = yield `message-${+new Date()}`;\n        const message = yield ref(db, `chats/${action.chatId}/messages/${newMessageId}`);\n        yield update(message, { id: newMessageId, header: action.messageTheme, text: action.messageText, author: action.messageAuthor });\n        if (action.messageAuthor !== 'Bot' && action.chatName === 'Bot') {\n            try {\n                yield delay(2000);\n                const weatherData = yield call(fetchData, URL_WEATHER);\n                const newBotMessageId = yield `message-${+new Date()}`;\n                const botMessage = yield ref(db, `chats/${action.chatId}/messages/${newBotMessageId}`);\n                yield update(botMessage, { id: newBotMessageId, header: 'Погода', text: `Погода в Питере ${weatherData.clouds.all > 50 ? \"облачная\" : \"безоблачная\"}\\nТемпература ${(weatherData.main.temp - 273).toFixed(1)} °C\\nВлажность ${weatherData.main.humidity} %\\nСкорость ветра ${weatherData.wind.speed} м/с`, author: 'Bot' });\n            } catch (err) {\n                console.log(err.message);\n            }\n        }\n    } catch (err) {\n        console.log(err)\n    };\n};\n\nexport const onRemoveMessageWithSaga = function* (action) {\n    try {\n        const message = yield ref(db, `chats/${action.chatId}/messages/${action.messageId}`);\n        yield remove(message);\n    } catch (err) {\n        console.log(err);\n    };\n};","import { initProfileName } from '../actions/initProfileName';\nimport { ref, set, onValue } from '@firebase/database';\nimport { auth, db } from '../../services/firebase';\nimport { store } from '../store';\n\nexport const onSetProfileNameWithSaga = function* (action) {\n    try {\n\t\tconst profileName = ref(db, `profile/${auth.currentUser.uid}`);\n        yield set(profileName, {\n            username: action.name\n        });\n    } catch (err) {\n        yield console.log(err.message);\n    }\n};\n\nexport const onInitProfileNameWithSaga = function*(){\n\ttry {\n\t\tconst profileName = ref(db, `profile/${auth.currentUser.uid}/username`);\n\t\tyield onValue(profileName, (snapshot) => {\n            const data = snapshot.val();\n            store.dispatch(initProfileName(data || ''));\n        });\n    } catch (err) {\n        yield console.log(err.message);\n    }\n};","import { put, call } from 'redux-saga/effects';\n\nimport { getNewsRequest, getNewsSuccess, getNewsFailure } from '../actions/getNews';\nimport { URL_NEWS } from '../../utils/constants';\n\nexport const fetchData = (url) => fetch(url)\n    .then(result => {\n        if (!result.ok) throw Error(result.status + ' ' + result.statusText);\n        return result.json();\n    })\n    .then(data => data)\n    .catch(err => {\n        throw err;\n    });\n\nexport const onGetNewsWithSaga = function* (action) {\n    try {\n        yield put(getNewsRequest());\n        const news = yield call(fetchData, URL_NEWS);\n        yield put(getNewsSuccess(news.news));\n    } catch (err) {\n        yield put(getNewsFailure(err.message));\n    }\n};","import { auth, db } from '../../services/firebase';\nimport { ref, onValue, set, remove } from '@firebase/database';\n\nimport { initChats } from '../actions/initChats';\nimport { store } from '../store';\n\nexport const onInitChatsWithSaga = function* () {\n    try {\n        const chats = yield ref(db, `chats`);\n        yield onValue(chats, (snapshot) => {\n            const data = snapshot.val();\n            store.dispatch(initChats(data || {}));\n        });\n    } catch (err) {\n        console.log(err.message);\n    }\n};\n\nexport const onAddChatWithSaga = function* (action) {\n    try {\n        const newChatId = yield `chatId${+new Date()}`;\n        const newChat = yield ref(db, `chats/${newChatId}`);\n\t\tconst myNewChat = yield ref(db, `profile/${auth.currentUser.uid}/myChats/${newChatId}`);\n        yield set(myNewChat, { chatName: action.chatName });\n        yield set(newChat, {\n            name: action.chatName, id: newChatId, messages: '', users: auth.currentUser.uid\n        });\n    } catch (err) {\n        console.log(err);\n    };\n};\n\nexport const onRemoveChatWithSaga = function* (action) {\n    try {\n        const chatId = yield ref(db, `chats/${action.chatId}`);\n\t\tconst myChat = yield ref(db, `profile/${auth.currentUser.uid}/myChats/${action.chatId}`);\n        yield remove(chatId);\n        yield remove(myChat);\n    } catch (err) {\n        console.log(err);\n    }\n};","import { takeEvery, takeLatest } from 'redux-saga/effects';\r\n\r\nimport { ADD_MESSAGE_WITH_SAGA } from './actions/addMessage';\r\nimport { onAddMessageWithSaga, onRemoveMessageWithSaga } from './sagas/messagesSaga';\r\nimport { SET_PROFILE_NAME_WITH_SAGA } from './actions/setProfileName';\r\nimport { onSetProfileNameWithSaga } from './sagas/profileSaga';\r\nimport { INIT_PROFILE_NAME_WITH_SAGA } from './actions/initProfileName';\r\nimport { onInitProfileNameWithSaga } from './sagas/profileSaga';\r\nimport { GET_NEWS_WITH_SAGA } from './actions/getNews';\r\nimport { onGetNewsWithSaga } from './sagas/newsSaga';\r\nimport { INIT_CHATS_WITH_SAGA } from './actions/initChats';\r\nimport { ADD_CHAT_WITH_SAGA } from './actions/addChat';\r\nimport { onInitChatsWithSaga, onAddChatWithSaga, onRemoveChatWithSaga } from './sagas/chatsSaga';\r\nimport { REMOVE_CHAT_WITH_SAGA } from './actions/removeChat';\r\nimport { REMOVE_MESSAGE_WITH_SAGA } from './actions/removeMessage';\r\n\r\nfunction* mySaga() {\r\n\tyield takeEvery(ADD_MESSAGE_WITH_SAGA, onAddMessageWithSaga);\r\n\tyield takeEvery(REMOVE_MESSAGE_WITH_SAGA, onRemoveMessageWithSaga);\r\n\t\r\n\tyield takeLatest(GET_NEWS_WITH_SAGA, onGetNewsWithSaga);\r\n\t\r\n\tyield takeLatest(SET_PROFILE_NAME_WITH_SAGA, onSetProfileNameWithSaga);\r\n\tyield takeLatest(INIT_PROFILE_NAME_WITH_SAGA, onInitProfileNameWithSaga);\r\n\t\r\n\tyield takeLatest(INIT_CHATS_WITH_SAGA, onInitChatsWithSaga);\r\n\tyield takeLatest(ADD_CHAT_WITH_SAGA, onAddChatWithSaga);\r\n\tyield takeLatest(REMOVE_CHAT_WITH_SAGA, onRemoveChatWithSaga);\r\n\r\n};\r\n\r\nexport default mySaga;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport initialState from './initialState';\r\n\r\nimport profile from './reducers/profileReducer';\r\nimport chats from './reducers/chatReducer';\r\nimport news from './reducers/newsReducer';\r\nimport mySaga from './sagas.js';\r\n\r\nexport const combine = combineReducers({profile, chats, news});\r\n\r\nconst onErrorSaga = (error, stack) => {console.log('qqq'+error); console.log(stack)}; \r\nconst options = {onError: onErrorSaga};\r\nconst sagaMiddleware = createSagaMiddleware(options);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, combine);\r\n\r\nexport const store = createStore(\r\n\tpersistedReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(sagaMiddleware)));\r\n\t\r\nsagaMiddleware.run(mySaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/es/integration/react';\n\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\n\nimport './App.css';\nimport Router from './components/Router';\nimport { store } from './store/store';\nimport { persistor } from './store/store';\n\nconst mainTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: \"#708238\",\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: \"#0098FF\",\n\t\t},\n\t},\n});\n\nfunction App() {\n\t/*render*/\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate persistor={persistor}>\n\t\t\t\t<ThemeProvider theme={mainTheme}>\n\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t<Router />\n\t\t\t\t\t</div>\n\t\t\t\t</ThemeProvider>\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}